{% load staticfiles %}
<html>
	<head>
		<title>Report Detail</title>
		<link rel="stylesheet" href="{% static 'css/main.css' %}">
	</head>

	
	<body>
		
		<main id="main-container">
			<section class="details">
				<h1 id="reportheader">Reports Details: </h1>
		
				<strong>Latitude</strong>: <span id="lat">{{ lat }}</span> | 
				<strong>Longitude</strong>: <span id="long">{{ long }}</span>
		
				<div class="title">
					<h3>Report Title: {{ object.title }}</h3>
					
				</div>

				<div class="date">
					<h4>Date : {{ object.created_at }} </h4>
				</div>
					
				<div class="location">
					<p><strong>Location</strong> : {{ object.location }}</p>
				</div>

				<div class="description">
					<p><strong>Description</strong>: <span id="rep_desc">{{ object.description }}</span> </p>
				</div>

				<div class="advice">
					<p><strong>Advice</strong> : {{ object.advice }} </p>
				</div>	 
						
						 
						
						
						
					
					
					
				
			</section>
			
			<hr>

			<section class="maps">

				<h3>Map Plot:</h3>
				<div id="gmaps" style="width: 400px; height: 400px; background-color: grey;"></div>
			</section>
		</main>
		
	
		

		

		

		
	<script>
		function initMap() {
			var desc = document.getElementById('rep_desc').innerHTML
			var lat = Number(document.getElementById('lat').innerHTML);
			var long = Number(document.getElementById('long').innerHTML);
			// console.log(lat, long);
			var loc = {lat: lat, lng: long};
			var map = new google.maps.Map(document.getElementById('gmaps'), {
				zoom : 14,
				center : loc
			});
			var marker = new google.maps.Marker({
				position : loc,
				map : map
			});
			var infoWindow = new google.maps.InfoWindow({
				content: desc
			});
			google.maps.event.addListener(marker, 'click', function() {
				infoWindow.open(map, marker);
			});
		}


	</script>
	<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCgJUurxiT0EIMg9HDoO8vhDFHodnZDKVg&callback=initMap">
    </script>	
	</body>
</html>
